# Pinephone Telemetry Configuration
# Copy this to .env and adjust values as needed

# ============================================
# SERVER CONFIGURATION
# ============================================

# Base URL of the telemetry server API
TELEMETRY_SERVER_URL=http://localhost:3000/api/telemetry

# API authentication key (optional)
TELEMETRY_API_KEY=

# Device identifier (defaults to hostname if not set)
DEVICE_ID=pinephone-pro-01

# ============================================
# COLLECTION INTERVALS (milliseconds)
# ============================================

# High-frequency telemetry: battery, temps, CPU freq, memory
# Default: 5000ms (5 seconds)
HIGH_FREQ_INTERVAL_MS=5000

# Medium-frequency telemetry: disk I/O, GPU stats, processes
# Default: 60000ms (60 seconds)
MEDIUM_FREQ_INTERVAL_MS=60000

# Low-frequency telemetry: full system snapshot
# Default: 300000ms (5 minutes)
LOW_FREQ_INTERVAL_MS=300000

# ============================================
# FEATURE FLAGS
# ============================================

# Enable/disable specific collectors
COLLECT_BATTERY=true
COLLECT_THERMAL=true
COLLECT_CPU=true
COLLECT_GPU=true
COLLECT_MEMORY=true
COLLECT_NETWORK=true
COLLECT_STORAGE=true
COLLECT_SENSORS=true
COLLECT_PROCESSES=true

# Maximum number of processes to include in telemetry
MAX_PROCESSES=50

# ============================================
# LOGGING & DEBUG
# ============================================

# Log level: debug, info, warn, error
LOG_LEVEL=info

# Enable local file logging (in addition to server)
LOG_TO_FILE=false
LOG_FILE_PATH=/var/log/pinephone-telemetry.log

# Dry run mode - collect but don't send to server
DRY_RUN=false

# ============================================
# RETRY & RESILIENCE
# ============================================

# Number of retries for failed API requests
API_RETRY_COUNT=3

# Delay between retries (milliseconds)
API_RETRY_DELAY_MS=1000

# Request timeout (milliseconds)
API_TIMEOUT_MS=10000

# Buffer telemetry locally if server is unreachable
ENABLE_OFFLINE_BUFFER=true

# Maximum buffered entries before oldest are dropped
OFFLINE_BUFFER_MAX_SIZE=1000

